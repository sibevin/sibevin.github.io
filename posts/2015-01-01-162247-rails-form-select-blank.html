<div class="meta"><div class="title">處理空白選項的下拉式選單</div><div class="datetime">2015-01-01 16:22:47</div><div class="tag">rails_view</div><div class="category">programming</div><div class="link">rails-form-select-blank</div><div class="file">2015-01-01-162247-rails-form-select-blank</div><div class="template">post</div></div><h1>問題</h1><p>想做一個下拉式選單讓使用者可以選取語言，如果使用者不選則預設為使用瀏覽器預設語系。不過預設的<code>select</code>似乎無法顯示空白選項。</p><h1>解法</h1><p>第一種方式是用<code>prompt</code>這個設定，它會在使用者尚未選取任何選項時顯示，不過一旦使用者選取其它項目，就不能選回空白。</p><div hljs="" include="&#39;code1&#39;" language="ruby"></div><script id="code1" type="text/ng-template">f.input :locale, prompt: t(".use_browser_locale")</script><p>第二種是將<code>include_blank</code>設成<code>true</code>，這樣的確就會有一個空白的選項出現可以選擇，不過它完全沒有任何提示字顯示在選項上，真的就是空白。</p><div hljs="" include="&#39;code2&#39;" language="ruby"></div><script id="code2" type="text/ng-template">f.input :locale, include_blank: true</script><p>第三種就是在<code>include_blank</code>後面接上要顯示的字串，這時候就會讓空白選項有提示字串顯示在上面。</p><div hljs="" include="&#39;code3&#39;" language="ruby"></div><script id="code3" type="text/ng-template">f.input :locale, include_blank: t(".use_browser_locale")</script>
