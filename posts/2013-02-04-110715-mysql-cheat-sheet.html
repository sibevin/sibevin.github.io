<div class="meta"><div class="title">mysql指令一覽</div><div class="datetime">2013-02-04 11:07:15</div><div class="tag">mysql cheat-sheet</div><div class="category">tools</div><div class="link">mysql-cheat-sheet</div><div class="file">2013-02-04-110715-mysql-cheat-sheet</div><div class="template">post</div></div><h2>資料庫操作</h2><table class="pt-table"><tbody><tr><td><code>show databases;</code></td><td>列出所有的database</td></tr><tr><td><code>use [database];</code></td><td>使用[database]資料庫，會讀取資料庫內所有table內的欄位資訊</td></tr><tr><td><code>drop database [database];</code></td><td>刪除[database]資料庫</td></tr></tbody></table><h2>表格操作</h2><table class="pt-table"><tbody><tr><td><code>show tables;</code></td><td>列出目前使用的資料庫所有的table</td></tr><tr><td><code>desc [table];</code></td><td>列出[table]內欄位資訊</td></tr><tr><td><code>truncate [table];</code></td><td>刪除[table]內所有的資料，id從1開始計算(如果使用delete刪除所有的資料，則id不會從1開始)</td></tr><tr><td><code>alter table [table] drop column [column];</code></td><td>刪除[table]的某一欄[column];</td></tr></tbody></table><h2>資料操作</h2><table class="pt-table"><tbody><tr><td><code>select * from [table];</code></td><td>列出[table]內所有的資料</td></tr><tr><td><code>select [col1],[col2] from [table];</code></td><td>列出[table]內所有的資料，只顯示[col1]與[col2]的欄位</td></tr><tr><td><code>insert into [table] ([col1],[col2]) values ([value1],[value2]);</code></td><td>插入一筆新資料到[table]中，其中[col1]的值為[value1]，[col2]的值為[value2]</td></tr><tr><td><code>insert into [table] ([col1],[col2]) values ([value_a1],[value_a2]), ([value_b1],[value_b2]);</code></td><td>插入多筆新資料到[table]</td></tr><tr><td><code>delete from [table];</code></td><td>刪除[table]內所有的資料</td></tr><tr><td><code>update [table] set [col1]=[value1],[col2]=[value2];</code></td><td>更新[table]內所有的資料，將它的[col1]值更新成[value1]、[col1]更新成[value1]</td></tr><tr><td><code>insert [table_a] ([col_a1], [col_a2]) select [col_b1], [col_b2] from [table_b]</code></td><td>將[table_b]的[col_b1]與[col_b2]選出並當作新資料的[col_a1]與[col_a2]的欄位插入到[table_a]</td></tr></tbody></table><h2>條件查詢、排序</h2><table class="pt-table"><tbody><tr><td><code>select * from [table] where [condition];</code></td><td>列出[table]內所有符合[condition]的資料</td></tr><tr><td><code>select * from [table] order by [col1] [asc/desc], [col2] [asc/desc];</code></td><td>列出[table]內所有的資料，依序照[col1]的[asc升冪/desc降冪]與[col2]的[asc升冪/desc降冪]排序</td></tr><tr><td><code>select * from [table] limit [num];</code></td><td>列出[table]內所有的資料，列出前[num]筆資料</td></tr></tbody></table><h2>分組</h2><table class="pt-table"><tbody><tr><td><code>select count(*) from [table] group by [col];</code></td><td>將[col]中相同的值分成同一組，並計算各組的資料個數。</td></tr><tr><td><code>select avg([col1]) from [table] group by [col2];</code></td><td>將[col2]中相同的值分成同一組，並計算各組[col1]的平均值。</td></tr><tr><td><code>select sum([col1]) from [table] group by [col2];</code></td><td>將[col2]中相同的值分成同一組，並計算各組[col1]的總和。</td></tr><tr><td><code>select count(*) from [table] group by [col] having count(*) > 10;</code></td><td>將[col]中相同的值分成同一組，並計算各組的資料個數，只列出資料個數>10的個數。</td></tr></tbody></table>