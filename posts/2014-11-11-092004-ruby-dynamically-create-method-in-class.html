<div class="meta"><div class="title">如何在ruby class中動態生成method？</div><div class="datetime">2014-11-11 09:20:04</div><div class="tag">ruby</div><div class="category">programming</div><div class="link">ruby-dynamically-create-method-in-class</div><div class="file">2014-11-11-092004-ruby-dynamically-create-method-in-class</div><div class="template">post</div></div><h1>動態生成instance method</h1><div hljs="" include="'code1'"></div><script id="code1" type="text/ng-template">class A
  METHODS = ["hello", "hi", "bye"]
  METHODS.each do |m|
    define_method("say_#{m}") do |name|
      return "#{name}: #{m}."
    end
  end
end


a = A.new
a.say_hello("Allen") # "Allen: hello."
a.say_hi("Bob") # "Bob: hi."
a.say_bye("Carlos") # "Carlos: bye."</script><h1>動態生成class method</h1><div hljs="" include="'code2'"></div><script id="code2" type="text/ng-template">class B
  METHODS = ["hello", "hi", "bye"]
  class << self
    METHODS.each do |m|
      define_method("say_#{m}") do |name|
        return "#{name}: #{m}."
      end
    end
  end
end


B.say_hello("Allen") # "Allen: hello."
B.say_hi("Bob") # "Bob: hi."
B.say_bye("Carlos") # "Carlos: bye."</script>